const generalItemUrl=window.location.protocol+"//"+window.location.host;let itemUrl="",prevItemId=null;const quickviewBtn='<div class="quickview_btn" role="button">'+btn_text+"</div>",linkItem='<div class="link_wrapper"><a class="quickview_item_link" href="#">'+go_to_item_btn_text+"</a></div>";let itemUpgrades={},isMultiple=!1,htmlData="",storeLayout=$("body").attr("data-layout"),listItemQvBtn="";if("true"==eye_icon){let a='<svg style="color: white" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16"> <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" fill="white"></path> <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" fill="white"></path> </svg>';listItemQvBtn='<div class="quickview_btn_wrapper">'+quickviewBtn+a+"</div>"}else listItemQvBtn='<div class="quickview_btn_wrapper">'+quickviewBtn+"</div>";const itemsExcept=()=>{$(".layout_list_item").each(function(){let b=$(this),a=b.find(".item_class").text();a&&""!=a&&b.addClass(a)})},quickviewLayoutListItems=()=>{try{$("body:not(.articles) .layout_list_item:not(.set_quickview)").each(function(){let a=$(this);a.addClass("set_quickview"),a.find(".grid").append(listItemQvBtn),a.find(".quickview_btn").click(function(a){a.preventDefault();let b=$(this).parents(".layout_list_item").first().attr("id").match(/\d+/)[0],c=$(this).parents(".layout_list_item").first().find("a").attr("href").trim();quickviewBtnClickHandler(b,c)})})}catch(a){console.log("TCL: function quickviewLayoutListItems -> error",a)}},quickviewDynamicCarousel=()=>{try{$("body #bg_middle #dynamic-carousel-client").length&&$("body #dynamic-carousel-client .swiper-slide:not(.set_quickview)").each(function(){let a=$(this);a.append(listItemQvBtn),a.addClass("set_quickview"),a.find(".quickview_btn").click(function(){let a=$(this).parents(".swiper-slide").first().attr("data-item-id");quickviewBtnClickHandler(a)})})}catch(a){console.log("TCL: function quickviewDynamicCarousel -> error",a)}},quickviewFuncInfscr=()=>{try{$(document).ajaxComplete(function(a,b,c){quickviewLayoutListItems()})}catch(a){console.log("TCL: quickviewFuncInfscr -> error",a)}},quickviewBtnClickHandler=(b,a)=>{try{$("#quickview_loading_animation_wrapper").show(),$("#wrap_quickview").fadeIn(),prevItemId!=b?(prevItemId=b,isMultiple=!1,itemUpgrades={},itemUrl=a&&a.includes("current_customer")?a:a&&a.includes("/items/")&&!a.includes("current_customer")?generalItemUrl+a:generalItemUrl+"/items/"+b,$("#wrap_quickview").removeAttr("class"),$("#wrap_quickview").attr("item-id",b),$.ajax({url:itemUrl,method:"GET",success:function(a){htmlData=a,$("#wrap_quickview .quickview_main").html($(a).find("form#new_order")),$("#wrap_quickview").trigger("openqv"),$("#quickview_loading_animation_wrapper").fadeOut(0),quickviewFadein(),generalChangesInQuickview(itemUrl),quickviewChangesAfterLoad()}})):("true"==show_addCart&&resetCounter(),$("#quickview_loading_animation_wrapper").fadeOut(0),quickviewFadein())}catch(c){console.log("TCL: quickviewBtnClickHandler -> error",c)}},quickviewFadein=()=>{try{$("#wrap_quickview .quickview").fadeIn(0)}catch(a){console.log("TCL: quickviewFadein -> error",a)}},quickviewFadeout=()=>{try{$("#wrap_quickview, #wrap_quickview .quickview").fadeOut(300)}catch(a){console.log("TCL: quickviewFadeout -> error",a)}},generalChangesInQuickview=a=>{try{$("#wrap_quickview #item_info").remove(),$(".item_main_top .wrap_content_top").remove(),"function"==typeof quickviewExtraCode&&quickviewExtraCode(),""==$("#wrap_quickview #item_details .code_item").text().trim()&&$("#wrap_quickview #item_details .code_item").hide(),$("#wrap_quickview .item_main_bottom_left").length>0?$("#wrap_quickview .item_main_bottom_left").append(linkItem):$("#wrap_quickview #item_details").append(linkItem),$("#wrap_quickview .quickview_item_link").attr("href",a),$("#wrap_quickview #item_link_buy_now .contactNow a").text("\u05E6\u05D5\u05E8 \u05E7\u05E9\u05E8"),quickviewAdminFieldsChanges(),(-1==storeLayout?.indexOf("responsive")|| void 0==storeLayout)&&quickviewChangesClassic(),sortUpgradesToShow(),quickviewStrengthsChanges(),quickviewInventoryChanges()}catch(b){console.log("TCL: generalChangesInQuickview -> error",b)}},quickviewChangesClassic=()=>{0==$("#wrap_quickview #item_details .item_main_top").length&&($("#wrap_quickview #item_details").prepend("<div class='item_main_top'></div>"),$("#wrap_quickview #item_details .item_main_top").append($("#wrap_quickview #item_current_title")),$("#wrap_quickview #item_details .item_main_top").append($("#wrap_quickview #item_current_sub_title")),$("#wrap_quickview #item_details .item_main_top").append($("#wrap_quickview .sub_title_read_more_wrap")),$("#wrap_quickview #item_details .item_main_top").append($("#wrap_quickview #item_anchors"))),0==$("#wrap_quickview #item_details .item_main_bottom").length&&($("#wrap_quickview #item_details").append("<div class='item_main_bottom'></div>"),$("#wrap_quickview #item_details .item_main_bottom").append("<div class='item_main_bottom_right'></div><div class='item_main_bottom_left'></div>"),$("#wrap_quickview .item_main_bottom_right").append("<div class='wrap_show_upgrades_top'></div><div class='main_price_and_btn'></div><div class='wrap_shipping_warranty_delivery'></div>"),0==$(".special_cart_wrapper").length?$("#wrap_quickview .item_main_bottom_right .main_price_and_btn").append("<div class='wrap_price'></div><div class='special_cart_wrapper'></div>"):($("#wrap_quickview .item_main_bottom_right .main_price_and_btn").append("<div class='wrap_price'></div>"),$("#wrap_quickview .item_main_bottom_right .main_price_and_btn").append($(".special_cart_wrapper"))),$("#wrap_quickview .item_main_bottom_right .wrap_show_upgrades_top").append($("#wrap_quickview #item_upgrades_top")),$("#wrap_quickview .item_main_bottom_right .wrap_price").append($("#wrap_quickview #item_show_price")),$("#wrap_quickview .item_main_bottom_right .wrap_price").append($("#wrap_quickview .item_show_origin_price")),$("#wrap_quickview .item_main_bottom_right .wrap_shipping_warranty_delivery").append($("#wrap_quickview #shipping_warranty_delivery")),$("#wrap_quickview .item_main_bottom_right .special_cart_wrapper").append($("#wrap_quickview .product_quantity")),$("#wrap_quickview .item_main_bottom_right .special_cart_wrapper").append($("#wrap_quickview .fake_quantity")),$("#wrap_quickview .item_main_bottom_right .special_cart_wrapper").append($("#wrap_quickview #item_link_buy_now")),$("#wrap_quickview .item_main_bottom_right .special_cart_wrapper").append($(".zero_val_comment")),$("#wrap_quickview .item_main_bottom_left").append($("#wrap_quickview #item_current_content")),$("#wrap_quickview .item_main_bottom_left").append($("#wrap_quickview .link_ask_about_item")),$("#wrap_quickview .item_main_bottom_left").append("<div class='extra_icons'></div>"),$("#wrap_quickview .extra_icons").append($("#wrap_quickview #item_safe_buy")),$("#wrap_quickview .extra_icons").append($("#wrap_quickview .truck")),$("#wrap_quickview .item_main_bottom_left").append($("#wrap_quickview .link_wrapper")),$("#wrap_quickview #item_details > div:not(.item_main_top):not(.item_main_bottom):not(.link_wrapper), #wrap_quickview #item_details > span").remove(),$("#wrap_quickview #item_group1").remove())},classicGallery=()=>{try{var a=document.documentMode||0,c=$.browser?.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!a,d=null;!function($){var a,b,c,d,e,f,g,h,i,j,k,l,m=0,n={},o=[],p=0,q={},r=[],s=null,t=new Image,u=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,v=/[^\.]\.(swf)\s*$/i,w=1,x=!1,y=20,z=$.extend($("<div/>")[0],{prop:0}),A=0,B=!$.support.opacity&&!window.XMLHttpRequest,C=function(){b.hide(),t.onerror=t.onload=null,s&&s.abort(),a.empty()},D=function(){$.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},E=function(){return[$(window).width(),$(window).height(),$(document).scrollLeft(),$(document).scrollTop()]},F=function(){var g,b=E(),a={},d=q.margin,h=q.autoScale,e=(y+d)*2,f=(y+d)*2,c=2*q.padding;return q.width.toString().indexOf("%")> -1?(a.width=b[0]*parseFloat(q.width)/100-2*y,h=!1):a.width=q.width+c,q.height.toString().indexOf("%")> -1?(a.height=b[1]*parseFloat(q.height)/100-2*y,h=!1):a.height=q.height+c,h&&(a.width>b[0]-e||a.height>b[1]-f)&&("image"==n.type||"swf"==n.type?(e+=c,f+=c,g=Math.min(Math.min(b[0]-e,q.width)/q.width,Math.min(b[1]-f,q.height)/q.height),a.width=Math.round(g*(a.width-c))+c,a.height=Math.round(g*(a.height-c))+c):(a.width=Math.min(a.width,b[0]-e),a.height=Math.min(a.height,b[1]-f))),a.top=b[3]+(b[1]-(a.height+2*y))*.5,a.left=b[2]+(b[0]-(a.width+2*y))*.5,!1===q.autoScale&&(a.top=Math.max(b[3]+d,a.top),a.left=Math.max(b[2]+d,a.left)),a},G=function(a){if(a&&a.length)switch(q.titlePosition){case"inside":return a;case"over":return'<span id="fancybox-title-over">'+a+"</span>";default:return p+1+" / "+r.length}return!1},H=function(){var a=q.title;if(l.width,q.padding,q.titlePosition,$("#fancybox-title").remove(),A=0,!1!==q.titleShow){switch(a=$.isFunction(q.titleFormat)?q.titleFormat(a,r,p,q):G(a),$("#imageNumber").remove(),$('<div id="imageNumber" />').html(a).appendTo("#fancybox-wrap"),q.titlePosition){case"inside":A=$("#fancybox-title").outerHeight(!0)-q.padding,l.height+=A;break;case"over":$("#fancybox-title").css("bottom",q.padding);break;default:$("#fancybox-title").css("bottom",-1*$("#fancybox-title").outerHeight(!0))}$("#fancybox-title").appendTo(e).hide()}},I=function(){$(document).unbind("keydown.fb").bind("keydown.fb",function(a){27==a.keyCode&&q.enableEscapeButton?(a.preventDefault(),$.fancybox.close()):37==a.keyCode?(a.preventDefault(),$.fancybox.prev()):39==a.keyCode&&(a.preventDefault(),$.fancybox.next())}),$.fn.mousewheel&&(d.unbind("mousewheel.fb"),r.length>1&&d.bind("mousewheel.fb",function(b,a){b.preventDefault(),x||0===a||(a>0?$.fancybox.prev():$.fancybox.next())})),q.showNavArrows&&((q.cyclic&&r.length>1||0!==p)&&h.show(),(q.cyclic&&r.length>1||p!=r.length-1)&&i.show())},J=function(){var a;r.length-1>p&&(a=r[p+1].href,void 0!==a&&a.match(u)&&(new Image().src=a)),p>0&&(a=r[p-1].href,void 0!==a&&a.match(u)&&(new Image().src=a))},K=function(){f.css("overflow","auto"==q.scrolling?"image"==q.type||"iframe"==q.type||"swf"==q.type?"hidden":"auto":"yes"==q.scrolling?"auto":"visible"),$.support.opacity||(f.get(0).style.removeAttribute("filter"),d.get(0).style.removeAttribute("filter")),$("#fancybox-title").show(),q.hideOnContentClick&&f.one("click",$.fancybox.close),q.hideOnOverlayClick&&c.one("click",$.fancybox.close),q.showCloseButton&&g.show(),I(),$(window).bind("resize.fb",$.fancybox.center),q.centerOnScroll?$(window).bind("scroll.fb",$.fancybox.center):$(window).unbind("scroll.fb"),$.isFunction(q.onComplete)&&q.onComplete(r,p,q),x=!1,J()},L=function(a){var b=Math.round(k.width+(l.width-k.width)*a),c=Math.round(k.height+(l.height-k.height)*a),e=Math.round(k.top+(l.top-k.top)*a),g=Math.round(k.left+(l.left-k.left)*a);d.css({width:b+"px",height:c+"px",top:e+"px",left:g+"px"}),b=Math.max(b-2*q.padding,0),c=Math.max(c-(2*q.padding+A*a),0),f.css({width:b+"px",height:c+"px"}),void 0!==l.opacity&&d.css("opacity",a<.5?.5:a)},M=function(a){var b=a.offset();return b.top+=parseFloat(a.css("paddingTop"))||0,b.left+=parseFloat(a.css("paddingLeft"))||0,b.top+=parseFloat(a.css("border-top-width"))||0,b.left+=parseFloat(a.css("border-left-width"))||0,b.width=a.width(),b.height=a.height(),b},N=function(){var b,a,c=!!n.orig&&$(n.orig),d={};return c&&c.length?d={width:(b=M(c)).width+2*q.padding,height:b.height+2*q.padding,top:b.top-q.padding-y,left:b.left-q.padding-y}:(a=E(),d={width:1,height:1,top:a[3]+.5*a[1],left:a[2]+.5*a[0]}),d},O=function(){if(b.hide(),d.is(":visible")&&$.isFunction(q.onCleanup)&& !1===q.onCleanup(r,p,q)){$.event.trigger("fancybox-cancel"),x=!1;return}if(r=o,p=m,q=n,f.get(0).scrollTop=0,f.get(0).scrollLeft=0,q.overlayShow&&(B&&$("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),c.css({"background-color":q.overlayColor,opacity:q.overlayOpacity}).unbind().show()),l=F(),H(),d.is(":visible")){$(g.add(h).add(i)).hide();var j,e=d.position();j=(k={top:e.top,left:e.left,width:d.width(),height:d.height()}).width==l.width&&k.height==l.height,f.fadeOut(q.changeFade,function(){var b=function(){f.html(a.contents()).fadeIn(q.changeFade,K)};$.event.trigger("fancybox-change"),f.empty().css("overflow","hidden"),j?(f.css({top:q.padding,left:q.padding,width:Math.max(l.width-2*q.padding,1),height:Math.max(l.height-2*q.padding-A,1)}),b()):(f.css({top:q.padding,left:q.padding,width:Math.max(k.width-2*q.padding,1),height:Math.max(k.height-2*q.padding,1)}),z.prop=0,$(z).animate({prop:1},{duration:q.changeSpeed,easing:q.easingChange,step:L,complete:b}))});return}d.css("opacity",1),"elastic"==q.transitionIn?(k=N(),f.css({top:q.padding,left:q.padding,width:Math.max(k.width-2*q.padding,1),height:Math.max(k.height-2*q.padding,1)}).html(a.contents()),d.css(k).show(),q.opacity&&(l.opacity=0),z.prop=0,$(z).animate({prop:1},{duration:q.speedIn,easing:q.easingIn,step:L,complete:K})):(f.css({top:q.padding,left:q.padding,width:Math.max(l.width-2*q.padding,1),height:Math.max(l.height-2*q.padding-A,1)}).html(a.contents()),d.css(l).fadeIn("none"==q.transitionIn?0:q.speedIn,K))},P=function(){"auto"==n.width&&(n.width=a.width()),"auto"==n.height&&(n.height=a.height()),O()},Q=function(){x=!0;var b=$('<div id="img"></div>');$("<img />").attr({id:"fancybox-img",src:t.src,alt:n.title}).appendTo(b),b.appendTo(a),t.width>500?($("#fancybox-img").width(500),$("#fancybox-img").height("auto")):($("#fancybox-img").width("auto"),t.height>500&&$("#fancybox-img").height(500)),badBrowser&&$("#fancybox-img").css({display:"none"}).vAlign(),O()},R=function(){C();var b,d,h,i,j,e,g,c=o[m];if(n=$.extend({},$.fn.fancybox.defaults,void 0===$(c).data("fancybox")?n:$(c).data("fancybox")),h=c.title||$(c).title||n.title||"",c.nodeName&&!n.orig&&(n.orig=$(c).children("img:first").length?$(c).children("img:first"):$(c)),""===h&&n.orig&&(h=n.orig.attr("alt")),b=c.nodeName&&/^(?:javascript|#)/i.test(c.href)?n.href||null:n.href||c.href||null,n.type?(d=n.type,b||(b=n.content)):n.content?d="html":b?b.match(u)?d="image":b.match(v)?d="swf":$(c).hasClass("iframe")?d="iframe":b.match(/#/)?(c=b.substr(b.indexOf("#")),d=$(c).length>0?"inline":"ajax"):d="ajax":d="inline",n.type=d,n.href=b,n.title=h,n.autoDimensions&&"iframe"!==n.type&&"swf"!==n.type&&(n.width="auto",n.height="auto"),n.modal&&(n.overlayShow=!0,n.hideOnOverlayClick=!1,n.hideOnContentClick=!1,n.enableEscapeButton=!1,n.showCloseButton=!1),$.isFunction(n.onStart)&& !1===n.onStart(o,m,n)){x=!1;return}switch(a.css("padding",y+n.padding+n.margin),$(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){$(this).replaceWith(f.children())}),d){case"html":a.html(n.content),P();break;case"inline":$('<div class="fancybox-inline-tmp" />').hide().insertBefore($(c)).bind("fancybox-cleanup",function(){$(this).replaceWith(f.children())}).bind("fancybox-cancel",function(){$(this).replaceWith(a.children())}),$(c).appendTo(a),P();break;case"image":x=!1,$.fancybox.showActivity(),(t=new Image).onerror=function(){D()},t.onload=function(){t.onerror=null,t.onload=null,Q(),$("#fancybox-img").outerWidth(!1)>500&&($("#fancybox-img").width(500),$("#fancybox-img").height("auto"))},t.src=b;break;case"swf":i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+n.width+'" height="'+n.height+'"><param name="movie" value="'+b+'"></param>',j="",$.each(n.swf,function(a,b){i+='<param name="'+a+'" value="'+b+'"></param>',j+=" "+a+'="'+b+'"'}),i+="<embed src='"+b+"' type='application/x-shockwave-flash' width='"+n.width+"' height='"+n.height+"'"+j+"></embed></object>",a.html(i),P();break;case"div":O();break;case"ajax":e=b.split("#",2),g=n.ajax.data||{},e.length>1&&(b=e[0],"string"==typeof g?g+="&selector="+e[1]:g.selector=e[1]),x=!1,$.fancybox.showActivity(),s=$.ajax($.extend(n.ajax,{url:b,data:g,error:D,success:function(b,c,d){200==s.status&&(a.html(b),P())}}));break;case"iframe":$('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" scrolling="'+n.scrolling+"' src='"+n.href+"'></iframe>").appendTo(a),O()}},S=function(){if(!b.is(":visible")){clearInterval(j);return}$("div",b).css("top",-40*w+"px"),w=(w+1)%12},T=function(){!$("#fancybox-wrap").length&&($("body").append(a=$('<div id="fancybox-tmp"></div>'),b=$('<div id="fancybox-loading"><div></div></div>'),c=$('<div id="fancybox-overlay"></div>'),d=$('<div id="fancybox-wrap"></div>')),$.support.opacity||(d.addClass("fancybox-ie"),b.addClass("fancybox-ie")),(e=$('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(d)).append(f=$('<div id="fancybox-inner"></div>'),g=$('<a id="fancybox-close"></a>'),h=$('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),i=$('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),g.click($.fancybox.close),b.click($.fancybox.cancel),h.click(function(a){a.preventDefault(),$.fancybox.prev()}),i.click(function(a){a.preventDefault(),$.fancybox.next()}),B&&(c.get(0).style.setExpression("height","document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'"),b.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'"),e.prepend("<iframe id='fancybox-hide-sel-frame' src='javascript:\"\";' scrolling='no' frameborder='0' ></iframe>")))};$.fn.fancybox=function(a){return $(this).data("fancybox",$.extend({},a,$.metadata?$(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){if(b.preventDefault(),!x){x=!0,$(this).blur(),o=[],m=0;var a=$(this).attr("rel")||"";return a&&""!=a&&"nofollow"!==a?m=(o=$("a[rel="+a+"], area[rel="+a+"]")).index(this):o.push(this),R(),!1}}),this},$.fancybox=function(a){if(!x){x=!0;var c=void 0!==arguments[1]?arguments[1]:{};if(o=[],m=c.index||0,$.isArray(a)){for(var b=0,d=a.length;b<d;b++)"object"==typeof a[b]?$(a[b]).data("fancybox",$.extend({},c,a[b])):a[b]=$({}).data("fancybox",$.extend({content:a[b]},c));o=jQuery.merge(o,a)}else"object"==typeof a?$(a).data("fancybox",$.extend({},c,a)):a=$({}).data("fancybox",$.extend({content:a},c)),o.push(a);(m>o.length||m<0)&&(m=0),R()}},$.fancybox.showActivity=function(){clearInterval(j),b.show(),j=setInterval(S,66)},$.fancybox.hideActivity=function(){b.hide()},$.fancybox.next=function(){return $.fancybox.pos(p+1)},$.fancybox.prev=function(){return $.fancybox.pos(p-1)},$.fancybox.pos=function(a){!x&&((a=parseInt(a,10))> -1&&r.length>a&&(m=a,R()),q.cyclic&&r.length>1&&a<0&&(m=r.length-1,R()),q.cyclic&&r.length>1&&a>=r.length&&(m=0,R()))},$.fancybox.cancel=function(){x||(x=!0,$.event.trigger("fancybox-cancel"),C(),n&&$.isFunction(n.onCancel)&&n.onCancel(o,m,n),x=!1)},$.fancybox.close=function(){if(!(x||d.is(":hidden"))){if(x=!0,q&&$.isFunction(q.onCleanup)&& !1===q.onCleanup(r,p,q)){x=!1;return}if(C(),$(g.add(h).add(i)).hide(),$("#fancybox-title").remove(),d.add(f).add(c).unbind(),$(window).unbind("resize.fb scroll.fb"),$(document).unbind("keydown.fb"),f.css("overflow","hidden"),"elastic"==q.transitionOut){k=N();var a=d.position();l={top:a.top,left:a.left,width:d.width(),height:d.height()},q.opacity&&(l.opacity=1),z.prop=1,$(z).animate({prop:0},{duration:q.speedOut,easing:q.easingOut,step:L,complete:b})}else d.fadeOut("none"==q.transitionOut?0:q.speedOut,b)}function b(){c.fadeOut("fast"),d.hide(),$.event.trigger("fancybox-cleanup"),f.empty(),$.isFunction(q.onClosed)&&q.onClosed(r,p,q),r=n=[],p=m=0,q=n={},x=!1}},$.fancybox.resize=function(){var a,b;x||d.is(":hidden")||(x=!0,b=(a=f.wrapInner("<div style='overflow:auto'></div>").children()).height(),d.css({height:b+2*q.padding+A}),f.css({height:b}),a.replaceWith(a.children()),$.fancybox.center())},$.fancybox.center=function(){x=!0;var b=E(),c=q.margin,a={};a.top=b[3]+(b[1]-(d.height()-A+2*y))*.5,a.left=b[2]+(b[0]-(d.width()+2*y))*.5,a.top=Math.max(b[3]+c,a.top),a.left=Math.max(b[2]+c,a.left),d.css(a),x=!1},$.fn.fancybox.defaults={padding:10,margin:20,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:500,height:900,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.3,overlayColor:"#666",titleShow:!1,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null},$(document).ready(function(){T()})}(jQuery),e(),$("#productCarouselHook").find("a").click(e).end().next().children("a").click(e),$("#productCarouselHook").prev().children("a").fancybox({titleShow:!0,cyclic:!0,overlayOpacity:.6,overlayColor:"#000",autoDimensions:!1,autoScale:!1,width:900,height:500,onStart:function(){badBrowser&&$("#fancybox-img").css({display:"none"})},onComplete:function(){badBrowser&&$("#fancybox-img").vAlign().css({display:"block"})}})}catch(b){console.log("classicGallery function error -> ",b)}function e(){var a=$(this),g=$("#productCarouselHook"),b=g.children("div"),e=b.children(),h=e.length,f=e.filter(":first").outerWidth(!0),i=(h-4)*f;if(this===window&&(b.width(e.filter(":first").outerWidth(!0)*e.length).data("pos",0),$(window).load(function(){b.css({left:0}).find("img").filter(function(){return 55>$(this).height()}).vAlign()})),h<=4&&g.next().children().hide(),a.hasClass("nextImg")&&!b.is(":animated")&&((pos=b.data().pos=b.data().pos+f)>=i&&($.browser.msie?a.hide():a.hide("slow")),pos>i&&(pos-=f),a.siblings("a").is(":hidden")&&($.browser.msie?a.siblings().show():a.siblings().show("slow")),b.animate({left:-1*pos},500)),a.hasClass("prevImg")&&!b.is(":animated")&&((pos=b.data().pos=b.data().pos-f)<0&&(pos=0),pos<=0&&($.browser.msie?a.hide():a.hide("slow")),a.siblings().is(":hidden")&&($.browser.msie?a.siblings().show():a.siblings().show("slow")),b.animate({left:-1*pos},500)),"productCarouselHook"===a.parent().parent().attr("id")){var a=$(this);a.attr("href","#"),selectedID=a.prevAll().length,a.siblings().removeClass("active").end().addClass("active");var d=a.parent().parent().prev().children("a").eq(selectedID);d.siblings().removeClass("active").end().addClass("active"),1===d.children("b").length?d.siblings("big").remove().end().after("<big/>").siblings("big").css({display:"block"}).html(d.children("b").html()):d.siblings("big").remove(),c&&d.find("img").imageResize({height:210,width:280})}}},quickviewAdminFieldsChanges=()=>{(htmlData.split('<body class="')[1]&&htmlData.split('<body class="')[1].split('"')[0].indexOf("quantity_false")> -1||htmlData.split('<body\r\n  class="')[1]?.split('"')[0].indexOf("quantity_false")> -1)&&$("#wrap_quickview #layout_item").addClass("zero_quantity"),(htmlData.split('<body class="')[1]&&htmlData.split('<body class="')[1].split('"')[0].indexOf("showallqv")> -1||htmlData.split('<body\r\n  class="')[1]?.split('"')[0].indexOf("showallqv")> -1)&&$("#wrap_quickview").addClass("showAllAdmin"),(htmlData.split('<body class="')[1]&&htmlData.split('<body class="')[1].split('"')[0].indexOf("hideallqv")> -1||htmlData.split('<body\r\n  class="')[1]?.split('"')[0].indexOf("hideallqv")> -1)&&$("#wrap_quickview").addClass("hideAllAdmin"),$(htmlData).find("div#item_son_items").length>0&&$("#wrap_quickview").addClass("itemDad"),"true"==show_upgrades&&"function"==typeof uploadFileFromUpgrade&&uploadFileFromUpgrade(),"true"==show_addCart&&quickviewAddToCartBtn(),"true"==show_buy_now&&quickviewBuyNowBtn(),(storeLayout?.indexOf("responsive")>0|| void 0==storeLayout||767>$(window).width())&&$("#wrap_quickview #lightSlider").lightSlider({gallery:!0,item:1,loop:!1,slideMargin:0,thumbItem:6,useCSS:!0,adaptiveHeight:!0})},quickviewInventoryChanges=()=>{$("#wrap_quickview select.inventory").length&&($("#wrap_quickview #item_upgrades label.inventory").each(function(a,b){$(this).addClass("must_upgrade")}),$("#wrap_quickview #item_details #item_link_buy_now .buyNow").after('<div class="contactNow"><a>'+$("#wrap_quickview label.inventory").attr("data-contact")+"</a></div>"),$("#wrap_quickview .contactNow").hide(),$("#wrap_quickview .contactNow a").click(function(){window.location.href=$("#wrap_quickview .link_ask_about_item").attr("href")}),$('#wrap_quickview select.inventory:not(".unshown"), #wrap_quickview select.fake_select').change(function(){$('#wrap_quickview select.inventory:not(".unshown"), #wrap_quickview select.fake_select').each(function(a,b){if($(this).children(":selected").text().indexOf("\u05D7\u05E1\u05E8 \u05D1\u05DE\u05DC\u05D0\u05D9")> -1)return $("body").hasClass("special_cart")?($("#wrap_quickview .product_quantity").hide(),$("#wrap_quickview .fake_quantity").hide(),$("#wrap_quickview .contactNow").show().siblings(".buyNow").hide(),$("#wrap_quickview #layout_item div#item_details .contactNow a").length?($("#wrap_quickview #layout_item div#item_details .contactNow").show(),$("#wrap_quickview #layout_item div#item_details .contactNow a").show()):$("#wrap_quickview .item_option5 .price_wrap").after('<div class="contactNow"><a href="'+$("#wrap_quickview .layout_item a.bold_link.link_ask_about_item").attr("href")+'">\u05E6\u05D5\u05E8 \u05E7\u05E9\u05E8</a></div>')):($("#wrap_quickview .contactNow").show().siblings(".buyNow").hide(),$("#wrap_quickview .contactNow").show().parent().siblings("#add_to_cart").hide(),$("#wrap_quickview div#layout_item div#item_deal_items").hide(),$("#wrap_quickview .extra_btn").hide()),!1;$("body").hasClass("special_cart")?($("#wrap_quickview a.commit_to_real").show(),$("#wrap_quickview .product_quantity").show(),$("#wrap_quickview .fake_quantity").show(),$("#wrap_quickview .contactNow").show().siblings(".buyNow").show(),$("#wrap_quickview #layout_item div#item_details .contactNow").hide()):($("#wrap_quickview .buyNow").show().siblings(".contactNow").hide(),$("#wrap_quickview #add_to_cart").show().siblings("#item_link_buy_now ").children(".contactNow").hide(),$("#wrap_quickview .extra_btn").show())})}),$('#wrap_quickview select.inventory:not(".unshown")').change(function(){localSelectChanged_qv()}),$("#wrap_quickview select.inventory").each(function(a,b){select_options($(this)),isMultiple?main_code($(this),a):$(this).hasClass("fake_select")||$(this).children("option").each(function(a){if(0==$(this).siblings("option").length||a>0){if(void 0==$(this).attr("data-stock")){$(this).text("");return}check_for_stock($(this).attr("data-stock"))||$(this).text($(this).text()+" - "+$("#wrap_quickview label.inventory").attr("data-stock-text"))}})}),$('#wrap_quickview select.inventory:not(".unshown"), #wrap_quickview select.fake_select').each(function(a,b){$(this).children(":selected").text().indexOf("\u05D7\u05E1\u05E8 \u05D1\u05DE\u05DC\u05D0\u05D9")> -1&&($("#wrap_quickview a.commit_to_real").hide(),$("#wrap_quickview .contactNow").show().siblings(".buyNow").hide(),$("#wrap_quickview .fake_quantity").hide(),$("#wrap_quickview .product_quantity").hide())}))},quickviewStrengthsChanges=()=>{"true"==show_strengths&&0==$("#wrap_quickview .item_main_bottom_left .extra_icons").length&&$("#wrap_quickview .item_main_bottom_left .icons ").after('<div class="extra_icons col-xs-12"><a class="icon pos_0 col-xs-4" target="_blank"><img src="'+extra_icons_icon1+'" alt=""></a><a class="icon pos_1 col-xs-4" target="_blank"><img src="'+extra_icons_icon2+'" alt=""></a><a class="icon pos_2 col-xs-4" target="_blank"><img src="'+extra_icons_icon3+'" alt=""></a></div>'),"true"==strengths_delete_content&&$("#wrap_quickview div#item_current_content ul.list").children().remove(),strengths_text1.length>0&&$("#wrap_quickview div#item_current_content ul.list").append("<li><strong>"+strengths_text1+"<i>&nbsp;</i></strong></li>"),strengths_text2.length>0&&$("#wrap_quickview div#item_current_content ul.list").append("<li><strong>"+strengths_text2+"<i>&nbsp;</i></strong></li>"),strengths_text3.length>0&&$("#wrap_quickview div#item_current_content ul.list").append("<li><strong>"+strengths_text3+"<i>&nbsp;</i></strong></li>"),strengths_text4.length>0&&$("#wrap_quickview div#item_current_content ul.list").append("<li><strong>"+strengths_text4+"<i>&nbsp;</i></strong></li>"),strengths_text5.length>0&&$("#wrap_quickview div#item_current_content ul.list").append("<li><strong>"+strengths_text5+"<i>&nbsp;</i></strong></li>")},quickviewChangesAfterLoad=()=>{try{$("#wrap_quickview").trigger("loadedqv"),setTimeout(function(){let a=$("#wrap_quickview #item_current_sub_title > span").height();a>43&&0==$("#wrap_quickview .sub_title_read_more_wrap").length&&($("#wrap_quickview #item_current_sub_title").after('<div class="sub_title_read_more_wrap"><a class="sub_title_read_more">\u05E7\u05E8\u05D0 \u05E2\u05D5\u05D3...</a></div>'),$("#wrap_quickview #item_current_sub_title").css("max-height","43px"),$("#wrap_quickview #item_current_sub_title").removeClass("open"),$("#wrap_quickview .sub_title_read_more").text("\u05E7\u05E8\u05D0 \u05E2\u05D5\u05D3..."),$("#wrap_quickview .sub_title_read_more").click(function(){a>43&&43==$("#wrap_quickview #item_current_sub_title").height()?($("#wrap_quickview #item_current_sub_title").addClass("open"),$("#wrap_quickview #item_current_sub_title").css("max-height","inherit"),$(".sub_title_read_more").text("\u05E1\u05D2\u05D5\u05E8")):($("#wrap_quickview #item_current_sub_title").css("max-height","43px"),$("#wrap_quickview #item_current_sub_title").removeClass("open"),$("#wrap_quickview .sub_title_read_more").text("\u05E7\u05E8\u05D0 \u05E2\u05D5\u05D3..."))})),$(window).trigger("resize")},500),$("#wrap_quickview #item_show_carousel ul#lightSlider li").each(function(){if($(this).find("img").attr("data-original")){var a=$(this).find("img").attr("data-original");$(this).find("img").attr("src",a)}}),"true"==show_strengths&&$("#wrap_quickview .extra_icons a").each(function(){if($(this).find("img").attr("data-original")){var a=$(this).find("img").attr("data-original");$(this).find("img").attr("src",a)}}),$("#wrap_quickview #item_upgrades .item_upgrades_with_images label").each(function(){if($(this).find("img").attr("data-original")){var a=$(this).find("img").attr("data-original");$(this).find("img").attr("src",a)}}),$("#wrap_quickview .special_cart_wrapper").append("<div class='note_upgrades'></div>"),$("#wrap_quickview .note_upgrades").click(function(){$("#wrap_quickview .link_wrapper a")[0].click()}),$("#wrap_quickview").hasClass("itemDad")&&$("#wrap_quickview .note_upgrades").text(btn_text_dad),$("#wrap_quickview").hasClass("hideAllAdmin")&&$("#wrap_quickview .note_upgrades").text(btn_text_hide),(-1==storeLayout?.indexOf("responsive")|| void 0==storeLayout)&&($("#wrap_quickview .fake_quantity input.fake_counter").val("1").trigger("change"),$("#wrap_quickview .product_quantity .amount_feed input").val("1"),$("#wrap_quickview #item_show_carousel").length&&classicGallery())}catch(a){console.log("TCL: quickviewChangesAfterLoad -> error",a)}},sortUpgradesToShow=()=>{$("#wrap_quickview .upgrades_form_fields > div").each(function(){var a=$(this).find(".upgrade_topic_title").text();("\u05DB\u05DE\u05D5\u05EA"==a||"\u05DB\u05DE\u05D5\u05EA \u05D1\u05DE\u05DC\u05D0\u05D9"==a)&&$(this).hide()}),$("#wrap_quickview #item_upgrades_top .upgrades_form_fields label").each(function(){let a=$(this);a.parent().addClass("upg_wrapper"),a.hasClass("inventory")&&a.parent().addClass("inventory"),a.hasClass("must_upgrade")&&a.parent().addClass("must_upgrade")}),$("#wrap_quickview #item_upgrades_top .upg_wrapper").each(function(){let a=$(this);a.hasClass("must_upgrade")||a.hasClass("inventory")||($("#wrap_quickview").hasClass("hide_upgrades")||$("#wrap_quickview").addClass("hide_upgrades"),a.addClass("hide_upgrade"))}),$("#wrap_quickview #item_upgrades_top .multipleSelects label").each(function(){let a=$(this);a.hasClass("must_upgrade")||($("#wrap_quickview").hasClass("hide_upgrades")||$("#wrap_quickview").addClass("hide_upgrades"),a.addClass("hide_upgrade"))}),$("#wrap_quickview #item_upgrades_top .item_upgrades_with_images div").each(function(){let a=$(this);a.hasClass("must_upgrade")?a.parent().addClass("must_upgrade"):($("#wrap_quickview").hasClass("hide_upgrades")||$("#wrap_quickview").addClass("hide_upgrades"),a.parent().addClass("hide_upgrade")),a.hasClass("showoneqv")&&a.parent().addClass("showoneqv")})},quickviewBuyNowBtn=()=>{if(0==$("#wrap_quickview .main_price_and_btn .special_cart_wrapper").length?$("#wrap_quickview div#item_link_buy_now").wrapAll('<div class="special_cart_wrapper"></div>'):$("#wrap_quickview .main_price_and_btn .special_cart_wrapper").append($("#wrap_quickview div#item_link_buy_now")),$(".special_cart_with_upgrades").length>0||$("div.cart").length>0)$("#wrap_quickview div#item_link_buy_now a#big_buy_now_link").click(function(a){a.stopPropagation(),$(".quickview_main .fake_quantity .commit_to_real").click(),$(".quickview_main .fake_quantity .commit_to_real").hasClass("btn_err_must_upgrade")||(submit_checkout(),$(".special_cart div.checkout a").click())});else{function a(){let a=$(this);a.addClass("active"),setTimeout(function(){a.removeClass("active").closest("form").submit()},200)}$("#wrap_quickview .product_quantity").remove(),$("#big_buy_now_link, #small_buy_now_link, #middle_buy_now_link, #deal_button, #son_button").click(function(d){let c=$("html").attr("lang"),a=!0;if($("#wrap_quickview .must_upgrade select option:selected").each(function(){if("\u05D1\u05D7\u05E8 "==$(this).text()||!$(this).val()){if("he"==c)alert("\u05E0\u05D0 \u05DC\u05DE\u05DC\u05D0 - "+$(this).parent().siblings("span").text());else{let b=$(this).parent().siblings("span").text().replace("\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4","Must Upgrade");alert("Please fill - "+b)}return a=!1}}),!1==a||($("#wrap_quickview .upgrades_form_fields label.must_upgrade").each(function(){if(0!=$(this).parent().find("input:checkbox").length&&0==$(this).parent().find("input").filter(":checked").length){if("he"==c)alert("\u05E0\u05D0 \u05DC\u05DE\u05DC\u05D0 - "+$(this).parent().find(".upgrade_topic_title").text());else{let b=$(this).parent().find(".upgrade_topic_title").text().replace("\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4","Must Upgrade");alert("Please fill - "+b)}return a=!1}}),!1==a)||($("#wrap_quickview .upgrades_form_fields label.must_upgrade").each(function(){if(0!=$(this).find("input[type=text]").length&&0==$(this).find("input[type=text]").val().length){if("he"==c)alert("\u05E0\u05D0 \u05DC\u05DE\u05DC\u05D0 - "+$(this).parent().find(".upgrade_topic_title").text());else{let b=$(this).parent().find(".upgrade_topic_title").text().replace("\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4","Must Upgrade");alert("Please fill - "+b)}return a=!1}}),!1==a)||($("#wrap_quickview .upgrades_form_fields label.must_upgrade").each(function(){if(0!=$(this).find("textarea").length&&0==$(this).find("textarea").val().length){if("he"==c)alert("\u05E0\u05D0 \u05DC\u05DE\u05DC\u05D0 - "+$(this).parent().find(".upgrade_topic_title").text());else{let b=$(this).parent().find(".upgrade_topic_title").text().replace("\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4","Must Upgrade");alert("Please fill - "+b)}return a=!1}}),!1==a))return a;if($("#wrap_quickview label.must_upgrade input[type=file]").length){let b=$(".must_upgrade input[type=file]");return""==b.val()?(0==(msg=b.parent().parent().find(".upgrade_topic_title").text()).length&&(msg="he"==c?"\u05E0\u05D0 \u05DC\u05E6\u05E8\u05E3 \u05E7\u05D5\u05D1\u05E5":"Please attach file"),alert(msg),!1):!1!=/(\.jpg|\.jpeg|\.gif|\.png)$/i.test(b.val())||("he"==c?alert("\u05E0\u05D9\u05EA\u05DF \u05DC\u05E6\u05E8\u05E3 \u05E7\u05D5\u05D1\u05E5 \u05DE\u05E1\u05D5\u05D2 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05D1\u05DC\u05D1\u05D3, \u05D1\u05E4\u05D5\u05E8\u05DE\u05D8\u05D9\u05DD \u05D4\u05D1\u05D0\u05D9\u05DD: jpg, jpeg, gif, png"):alert("Please attach only image file, in the following formats: jpg, jpeg, gif, png"),!1)}return a}),$("#wrap_quickview div.smallButton, div.buyNow").click(a)}},quickviewAddToCartBtn=()=>{try{let a=!!$("#wrap_quickview #layout_item #item_son_items").length,b=!$("#wrap_quickview #layout_item .buyNow").length;a||b||(0==$("#wrap_quickview #layout_item  .product_quantity").length&&0==$("#wrap_quickview #layout_item .fake_quantity").length&&$("#wrap_quickview #layout_item #item_details").append('<div class="product_quantity"><div class="reduce_item quantity"><a>-</a></div><div class="amount_feed"><input class="counter" value=0 type="number"></div><div class="add_item quantity"><a>+</a></div></div><div class="fake_quantity"><input type="text" class="fake_counter" value="0"><a class="commit_to_real"></a></div>'),add_to_cart_btn_text.length>0?$("#wrap_quickview #layout_item #item_details .commit_to_real").text(add_to_cart_btn_text):$("#wrap_quickview #layout_item #item_details .commit_to_real").text("\u05D4\u05D5\u05E1\u05E4\u05D4 \u05DC\u05E2\u05D2\u05DC\u05D4"),0==$("#wrap_quickview .main_price_and_btn .special_cart_wrapper").length&&$("#wrap_quickview .main_price_and_btn").append('<div class="special_cart_wrapper"></div>'),$("#wrap_quickview .special_cart_wrapper").prepend($("#wrap_quickview #item_details .fake_quantity")).prepend($("#wrap_quickview #item_details .product_quantity")),$("#wrap_quickview #layout_item").addClass("has_button"),resetCounter(),addAndReduceHandler(),addToCartHandler(),updateItemPrice())}catch(c){console.log("TCL: quickviewAddToCartBtn -> error",c)}},resetCounter=()=>{try{let a="1";$("#wrap_quickview #item_details span.quantity_step_value").length&&""!=$("#wrap_quickview #item_details span.quantity_step_value").text()&&(a=$("#wrap_quickview #item_details span.quantity_step_value").text()),$("#wrap_quickview .quickview .special_cart_wrapper .product_quantity .amount_feed input.counter").val(a),$("#wrap_quickview .quickview .special_cart_wrapper .fake_quantity input.fake_counter").val(a)}catch(b){console.log("TCL: resetCounter -> error",b)}},addAndReduceHandler=()=>{try{let b=0;$("#wrap_quickview #item_details .product_quantity .quantity").each(function(){let a=$(this);a.click(function(){b=a.parent().siblings(".fake_quantity").children(".fake_counter").val();let d=$("#wrap_quickview #item_details .quantity_step_value").length,c=parseFloat($("#wrap_quickview #item_details .quantity_step_value").text());a.hasClass("add_item")?1==d?b=parseFloat(b)+c:b++:(1==d?b=parseFloat(b)-c:b--,b<0&&(b=0),c<0&&(c=0)),1==d?a.parent().siblings(".fake_quantity").children(".fake_counter").val(b.toFixed(2)).trigger("change"):a.parent().siblings(".fake_quantity").children(".fake_counter").val(parseInt(b)).trigger("change")})}),$("#wrap_quickview #item_details .fake_quantity input.fake_counter").each(function(a,b){$(this).change(function(){$(this).parent().siblings(".product_quantity").find(".amount_feed input").val($(this).val())})})}catch(a){console.log("TCL: addAndReduceHandler -> error",a)}},addToCartHandler=()=>{try{if($(".special_cart_with_upgrades").length>0||$("div.cart").length>0){$("#wrap_quickview #item_details a.commit_to_real").click(function(){let a=$(this),c="1",b=a.parents("#item_details").first().find("span.quantity_step_value");if(b&&""!=b.text()&&(c=b.text()),!a.hasClass("zero_value")){a.siblings(".fake_counter").val(a.parent().parent().find(".product_quantity input.counter").val());let d=Number(a.siblings(".fake_counter").val());isNaN(d)?a.siblings(".fake_counter").addClass("err"):(a.siblings(".fake_counter").removeClass("err"),a.parent().siblings(".product_quantity").find(".amount_feed input.counter").val(a.siblings(".fake_counter").val()).trigger("change")),a.hasClass("btn_err_must_upgrade")||a.siblings(".fake_counter").val(c).trigger("change"),a.addClass("clicked")}}),$("#wrap_quickview #item_upgrades label.inventory").each(function(){$(this).addClass("must_upgrade")});let e="item_id_"+$("#wrap_quickview #item_id").val(),f=$("#wrap_quickview #item_show_price .price_value").text().replace("\u05DE\u05D7\u05D9\u05E8",""),g=$("#wrap_quickview #item_current_title h1 span").text(),a=$("#wrap_quickview div#item_show_carousel ul#lightSlider > li:first-child > img").attr("data-original")||$("#wrap_quickview div#item_show_carousel ul#lightSlider > li:first-child > img").attr("src");void 0==a&&(a=$("#wrap_quickview div#item_show_carousel .mainImage a img").attr("src"));let c=$("#wrap_quickview .multipleSelects select:not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields select:not(.not_for_upgrades_cart, .fake_select), #wrap_quickview .upgrades_form_fields input:not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields textarea:not(.not_for_upgrades_cart), #wrap_quickview .item_upgrades_with_images .checkbox-group input, #wrap_quickview #item_upgrades label.for_upgrades_cart input[type=file]");c.each(function(){$(this).change(function(){$("#wrap_quickview .commit_to_real").removeClass("clicked")})});let b=Number($("#wrap_quickview div#item_main span.quantity_step_value").text());0==b&&(b=1),$("#wrap_quickview .amount_feed input.counter").change(function(){$(this).parents(".product_quantity").first().siblings(".fake_quantity").find(".fake_counter").val($(this).val()).change();let k=Number($(this).val()),l=convert_upgrades_to_string(c),d=check_must_upgrade_qv($("#wrap_quickview .multipleSelects .must_upgrade select:not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields .must_upgrade select:not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields .must_upgrade input:not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields .must_upgrade textarea:not(.not_for_upgrades_cart), #wrap_quickview .item_upgrades_with_images .checkbox-group.must_upgrade input, #wrap_quickview .must_upgrade.for_upgrades_cart input[type=file], #wrap_quickview .must_upgrade_error.for_upgrades_cart input[type=file]")),m=0;for(let i=0;i<d.length;i++)!0!=d[i]&&(m=1);for(let h=0;h<d.length;h++)if(!0!=d[h]){let j=return_upgrade_div(d[h],"label");j.addClass("must_upgrade_error"),$("#wrap_quickview a.commit_to_real").hasClass("btn_err_must_upgrade")||$("#wrap_quickview a.commit_to_real").addClass("btn_err_must_upgrade"),0==j.find("span.must_upgrade_comment").length&&$(j).append($('<span class="must_upgrade_comment">\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4</span>')),d[h].change(function(){""!=$(this).children("option:selected").val()&&null!=$(this).children("option:selected").val()&& void 0!=$(this).children("option:selected").val()?($(this).parent().removeClass("must_upgrade_error"),$(this).siblings(".must_upgrade_comment").remove(),$("#wrap_quickview a.commit_to_real").hasClass("btn_err_must_upgrade")&&$("#wrap_quickview a.commit_to_real").removeClass("btn_err_must_upgrade")):""!=$(this).children("option:selected").val()&&null!=$(this).children("option:selected").val()&& void 0!=$(this).children("option:selected").val()||($(this).parent().addClass("must_upgrade_error"),0!=$(this).parent().children("span.must_upgrade_comment").length||$(this).hasClass("unshown")||$(this).parent().append($('<span class="must_upgrade_comment">\u05E9\u05D3\u05E8\u05D5\u05D2 \u05D7\u05D5\u05D1\u05D4</span>')))})}else if(0==m){if($("#wrap_quickview #item_main .must_upgrade_comment").each(function(){$(this).remove()}),""==l)find_id(e,g,f,a,k,b),quickviewFadeout(),window.location.pathname.includes("orders")&&window.location.pathname.includes("new")&&$(".checkout a").click();else{let n=get_upgrades_price(c,f);find_id(e+"=>"+l,g,n,a,k,b,get_upgrades_text(c)),quickviewFadeout(),window.location.pathname.includes("orders")&&window.location.pathname.includes("new")&&$(".checkout a").click()}}}),$("#wrap_quickview .fake_counter").each(function(a,b){$(this).change(function(){$(this).siblings(".commit_to_real").removeClass("clicked"),"0."!=$(this).val()&&(isNaN(Number($(this).val()))||0>=Number($(this).val()))?($(this).siblings(".commit_to_real").addClass("zero_value"),$("#wrap_quickview #item_son_items").length||0==$("#wrap_quickview span.zero_val_comment").length&&$("#wrap_quickview #item_details #item_link_buy_now").after($('<span class="zero_val_comment">\u05E0\u05D0 \u05DC\u05D1\u05D7\u05D5\u05E8 \u05DB\u05DE\u05D5\u05EA</span>')),$(this).val("0")):($(this).siblings(".commit_to_real").removeClass("zero_value"),$("#wrap_quickview span.zero_val_comment").remove())}),$(this).keyup(function(){$(this).trigger("change")}),$(this).trigger("change")})}else $("#wrap_quickview .fake_quantity").click(function(){$("#wrap_quickview #item_link_buy_now .buyNow #big_buy_now_link").click()})}catch(d){console.log("TCL: addToCartHandler -> error",d)}},updateItemPrice=()=>{try{let a;$("#wrap_quickview #item_details #item_show_price .price_value").length>0?a=Number($("#wrap_quickview #item_show_price .price_value").text().replace(",","").replace("\u20AA","").trim()):($("#wrap_quickview #item_details").prepend('<div class="wrap_price"><div id="item_show_price"><span class="price_title">\u05DE\u05D7\u05D9\u05E8 \u05DC\u05D9\u05D7\u05F3</span><span itemprop="offerDetails" itemscope="" itemtype="http://data-vocabulary.org/Offer"><meta itemprop="currency" content="ILS"><span class="price_value to_the_right" itemprop="price"></span></span></div></div>'),a=0);let d=a,e=0,b=$("#wrap_quickview #item_upgrades select:not(.unshown):not(.not_for_upgrades_cart), #wrap_quickview .upgrades_form_fields input:not(.not_for_upgrades_cart), #wrap_quickview .item_upgrades_with_images .checkbox-group label input");b.each(function(){$(this).change(function(){d=a,b.each(function(){"radio"==$(this).attr("type")||"checkbox"==$(this).attr("type")?$(this).is(":checked")&&(e=$(this).parent().hasClass("item_upgrades_with_images_radio_button")?$(this).parent().siblings(".item_upgrades_with_images_price").length>0?Number($(this).parent().siblings(".item_upgrades_with_images_price").text().replace(",","").replace("\u20AA","").trim()):0:Number($(this).data("price")),d+=e):$(this).hasClass("fake_select")&&$(this).hasClass("level_0")?d+=0:$(this).hasClass("fake_select")&&$(this).hasClass("level_1")?void 0!=$(this).parent().parent().siblings("select.inventory").children("option:selected").data("price")&&""!=$(this).parent().parent().siblings("select.inventory").children("option:selected").data("price")&&(e=Number($(this).parent().parent().siblings("select.inventory").children("option:selected").data("price")),d+=e):void 0!=$(this).children("option:selected").data("price")&&""!=$(this).children("option:selected").data("price")?(e=Number($(this).children("option:selected").data("price")),d=Number((d+e).toFixed(1))):d+=0}),$("#wrap_quickview #item_show_price .price_value").text(d+" \u20AA"),$("#wrap_quickview .price_value").digits()})}),$.fn.digits=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})}}catch(c){console.log("TCL: updateItemPrice -> error",c)}},quickviewDealItems=()=>{try{$("div#item_deal_items table.deal_items td:not(.plus,.equal,.deal_button,:first-child)").each(function(){let a=$(this);a.append(listItemQvBtn),a.find(".quickview_btn_wrapper").click(function(){let a=$(this).parent().attr("class").split(" ")[0].split("_")[1];quickviewBtnClickHandler(a,"")})})}catch(a){console.log("TCL: function quickviewDealItems -> error",a)}},quickviewAlsoBuyItems=()=>{try{$("#bg_middle #item_also_buy em").each(function(){let a=$(this);a.append(listItemQvBtn)}),$("#bg_middle #item_also_buy").on("click",".quickview_btn_wrapper",function(){let a=$(this).parent().find('input[name="item_ids[]"]').val().match(/\d+/)[0];quickviewBtnClickHandler(a,"")})}catch(a){console.log("TCL: function quickviewAlsoBuyItems -> error",a)}};function select_options(a){$(a).children("option").each(function(a){a>0&& void 0!=$(this).attr("data-values")&&$(this).attr("data-values").indexOf(";")>0&&(isMultiple=!0)})}function main_code(f,d){$(f).children("option").each(function(){item_upgrades_js[$(this).val()]=Number($(this).attr("data-price"))}),$(f).hide().addClass("unshown");let g,c=[];$(f).children("option").each(function(){void 0!=$(this).attr("data-values")&&(g=[$(this).val()],$.each(str_to_arr($(this).attr("data-values")),function(b,a){g.push(a)}),g.push($(this).attr("data-stock")),g.push($(this).attr("data-price")),c.push(g),g=[])}),num_of_levels=(arr_heading=str_to_arr($($("#wrap_quickview label.inventory")[d]).attr("data-titles"))).length;for(var b=0;b<c.length;b++)for(var e=itemUpgrades,a=1;a<c[b].length-2;a++)e[c[b][a]]||(a==c[b].length-3?e[c[b][a]]=c[b][0]+"-"+c[b][a+1]+"-"+c[b][a+2]:e[c[b][a]]={}),e=e[c[b][a]];$($("#wrap_quickview label.inventory")[d]).append('<div class="fake_selects pos_'+d+'"></div>');for(var a=0;a<num_of_levels;a++)$("#wrap_quickview .fake_selects.pos_"+d).append('<div class="level_'+a+'"><label class="level_'+a+'">'+arr_heading[a]+'</label><select class="fake_select pos_'+d+" level_"+a+'" disabled></select></div>');return $("#wrap_quickview select.fake_select.pos_"+d+".level_0").append(createOptions(itemUpgrades)).removeAttr("disabled"),$("#wrap_quickview select.fake_select").change(function(){level=Number($(this).attr("class").charAt($(this).attr("class").length-1)),reset_selects($(f),level+1),$(f).trigger("change"),"string"==typeof get_last_select_value()?/Android|webOS|iPhone|iPod|Blackberry|Windows Phone/i.test(navigator.userAgent)||/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?$("#wrap_quickview select.inventory").val($('#wrap_quickview select.inventory > option[value="'+get_last_select_value().toString().split("-")[0]+'"]').val()).trigger("change"):$('#wrap_quickview select.inventory > option[value="'+get_last_select_value().toString().split("-")[0]+'"]').attr("selected","selected").trigger("change"):""!=$(this).val()&&refresh_selects(d)}),$("#wrap_quickview .upgrade_topic_title").css({display:"none"}),!0}function str_to_arr(a){var b=[];return $.each(a.split(";"),function(c,a){b.push(a)}),b}function get_last_select_value(){let a=itemUpgrades,b;for(var c=0;c<num_of_levels&&""!=(b=$("#wrap_quickview select.fake_select.level_"+c).val())&&null!=b;c++)a=a[b];return a}function refresh_selects(d){let a=itemUpgrades,c;for(var b=0;b<num_of_levels;b++){if(""==(c=$("#wrap_quickview select.fake_select.level_"+b).val()))return!0;if(null==c)return enable_select(b,a,d);a=a[c]}return a}function reset_selects(b,a){if(0==a)return!1;for($(b).children("option").first().attr("selected","selected"),i=a;i<num_of_levels;i++)$("#wrap_quickview select.level_"+i).html("").attr("disabled",!0);return!0}function enable_select(a,b,c){return($elem=$("#wrap_quickview select.fake_select.level_"+a)).append(createOptions(b)),$elem.removeAttr("disabled"),!0}function createOptions(a){var b='<option value="">\u05D1\u05D7\u05E8</option>\n',c="";return $.each(a,function(d,a){if("string"==typeof a){var e=d;a.split("-")[2].length&&0!=Number(a.split("-")[2])&&(e+=" - "+a.split("-")[2]+" "+$("#wrap_quickview label.inventory").attr("data-currency")),("0"==a.split("-")[1]||""==a.split("-")[1])&&(c=" out_of_stock",e+=" - "+$("#wrap_quickview label.inventory").attr("data-stock-text")),b+='<option value="'+d+'"'+c+">"+e+"</option>\n"}else b+='<option value="'+d+'">'+d+"</option>\n"}),b}function check_for_stock(b){var a=Number(b);return!isNaN(a)&&!(a<=0)}function localSelectChanged_qv(){var a=Number($("#wrap_quickview .price_value").attr("content"));$("#wrap_quickview select option:selected").each(function(){$(this).val()&&(value=item_upgrades_js[$(this).val()],!1==isNaN(value)&&(a+=value))}),sumStr=(0^a)!==a?Number(a).toFixed(2):a,a==origin_price?($("#wrap_quickview .price_value").html(sumStr+" \u20AA"),$("#wrap_quickview a.link_payments_table").attr("href","/items/4608337/payments")):($("#wrap_quickview .price_value").html(sumStr+" \u20AA <span class='tiny'>\u05DB\u05D5\u05DC\u05DC \u05E9\u05D3\u05E8\u05D5\u05D2\u05D9\u05DD</span>"),$("#wrap_quickview a.link_payments_table").attr("href","/items/4608337/payments?total_price="+a)),$("#wrap_quickview .price_value").length&&$("#wrap_quickview .price_value").html($("#wrap_quickview .price_value").html().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))}function check_must_upgrade_qv(c){var a=[],b={};if(c.length>0){$.each(c,function(c,d){"radio"==$(this).attr("type")||"checkbox"==$(this).attr("type")?$(this).parent().parent().parent().hasClass("upgrade_is_checked")||$(this).parent().parent().hasClass("upgrade_is_checked")||($(this).is(":checked")?(b[$(this).attr("name")]=!0,$(this).parent().parent().parent().hasClass("checkbox-group")?$(this).parent().parent().parent().addClass("upgrade_is_checked"):$(this).parent().parent().addClass("upgrade_is_checked")):b[$(this).attr("name")]=!1):""==$(this).val()||null==$(this).val()|| void 0==$(this).val()?a.push($(this)):a.push(!0)});var d=0,e=0;$.isEmptyObject(b)?a.push(!0):($.each(b,function(a,b){d++}),$.each(b,function(c,b){!1==b&&a.push($('[name="'+c+'"]')),!0==b&&e++,d==e&&a.push(!0)}))}else a.push(!0);return a}"true"==show_list_items&&(quickviewLayoutListItems(),($("body").hasClass("layout_category")||$("body").hasClass("layout_items")||$("body").hasClass("layout_X"))&&quickviewFuncInfscr()),$(window).load(function(){quickviewDynamicCarousel()}),$("body").hasClass("layout_item")&&$("body").hasClass("layout_responsive")&&("true"==show_deal_items&&quickviewDealItems(),"true"==show_also_buy&&quickviewAlsoBuyItems()),$(document).ready(function(){$("#wrap_quickview .close_quickview").click(function(a){quickviewFadeout()}),$("#wrap_quickview #quickview_backdrop").click(function(a){a.target===this&&quickviewFadeout()})});const radioToCheckboxQV=()=>{try{$("#wrap_quickview").on("openqv",function(){$(".item_upgrades_with_images .checkbox-group label").each(function(b){var a=$(this).find("input[type='radio']");"radio"==a.attr("type")&&$(this).find("input[type='radio']").attr("type","checkbox")})})}catch(a){console.log("radio to checkbox error: "+a)}},inventoryMatrixPicturesQV=()=>{console.log("boom");try{console.log("boom1"),$("#wrap_quickview").on("loadedqv",function(){setTimeout(function(){$("#wrap_quickview #item_details label.pic_inventory.inventory").each(function(){var a=$(this);$(this).find(".fake_selects > div").each(function(b,d){var c=b;$(this).after('<div class="qv_inventory_pics qv_inventory_pics_'+c+'"><ul></ul></div>'),a.find("select.inventory option").each(function(){if(exists=!1,void 0!=$(this).attr("data-title")&&""!=$(this).attr("data-title")&& void 0!=$(this).attr("data-image")&&""!=$(this).attr("data-image")){var d=$(this).attr("data-values").split(";")[c].trim();if(a.find(".fake_selects > .qv_inventory_pics_"+c+" ul li").each(function(){if($(this).attr("data-title")==d)return exists=!0,!1}),!exists){var b=$(this).attr("data-image");a.find(".fake_selects > .qv_inventory_pics_"+c+" ul").append("<li data-title='"+d+"' data-img-src='"+b+"' style='background-image: url("+b+");'></li>")}}})}),a.find(".fake_selects > .qv_inventory_pics_0 ul li").addClass("enabled"),a.find(".fake_selects > .qv_inventory_pics ul li").click(function(){if($(this).hasClass("enabled")){if($(this).closest(".qv_inventory_pics").hasClass("qv_inventory_pics_0")){a.find(".fake_selects > .qv_inventory_pics ul li").removeClass("active");let b=$(this).attr("data-title");$(this).closest(".qv_inventory_pics").prev().find("label > span").length?$(this).closest(".qv_inventory_pics").prev().find("label > span").text(" - "+b):$(this).closest(".qv_inventory_pics").prev().find("label").append("<span> - "+b+"</span>"),$("div#item_details label.pic_inventory.inventory .fake_selects  label.level_1 span").length?$("div#item_details label.pic_inventory.inventory .fake_selects  label.level_1 span").show():$("div#item_details label.pic_inventory.inventory .fake_selects  label.level_1").append("<span> - \u05D1\u05D7\u05E8 \u05E6\u05D1\u05E2 \u05DC\u05E6\u05E4\u05D9\u05D9\u05D4 \u05D1\u05EA\u05DE\u05D5\u05E0\u05D4</span>")}else $(this).closest(".qv_inventory_pics").hasClass("qv_inventory_pics_1")&&($(this).closest(".qv_inventory_pics").find("li").removeClass("active"),$("div#item_details label.pic_inventory.inventory .fake_selects  label.level_1 span").hide());$(this).addClass("active");var c=$(this).attr("data-title");$(this).closest(".qv_inventory_pics").prev().find("select").val(c),$(this).closest(".qv_inventory_pics").prev().find("select").trigger("change")}}),a.find(".fake_selects select.fake_select.pos_0.level_0").change(function(){a.find(".fake_selects > .qv_inventory_pics_1 ul li").removeClass("enabled").removeClass("disabled");var b=$(this).val();""!=b&&a.find(".fake_selects > .qv_inventory_pics_1 ul li").each(function(){var d=$(this),c=$(this).attr("data-title");a.find('select.inventory option[data-values*="'+c+'"]').each(function(){if(d.closest(".qv_inventory_pics").prev().find('select option[value="'+c+'"]').text().includes("\u05D7\u05E1\u05E8 \u05D1\u05DE\u05DC\u05D0\u05D9"))d.addClass("disabled").removeClass("enabled");else{var a=!1,e=$(this).attr("data-values").split(";");if($.each(e,function(d,c){if(c.trim()===b.trim())return a=!0,!1}),a)return d.addClass("enabled").removeClass("disabled"),!1;d.addClass("disabled").removeClass("enabled")}})})})}),$("#wrap_quickview div#item_details label.pic_inventory.inventory .fake_selects > .qv_inventory_pics.qv_inventory_pics_0 li").each(function(){$(this).text($(this).data("title"))}),$("#wrap_quickview div#item_details label.pic_inventory.inventory .fake_selects > .qv_inventory_pics.qv_inventory_pics_1 ul li").each(function(){$(this).html("<span>"+$(this).attr("data-title")+"</span>")}),0!=$("#wrap_quickview .qv_inventory_pics").length&&$("#wrap_quickview div#item_details label.pic_inventory.inventory .fake_selects > div:not(.qv_inventory_pics) select").css({display:"none"})},1e3)})}catch(a){console.log("inventoryMatrixPicturesQV error: "+a)}},upgradesCubesQV=()=>{function b(a,b,c){this.id=a,this.name=b,this.options=c}function c(a,b,c,d){this.name=a,this.price=b,this.value=c,this.qty=d}function d(){var a=[];return $("#wrap_quickview .inventory.must_upgrade select").each(function(){var d=[];$(this).find("option").each(function(){if(""!=$(this).attr("value")){var a=$(this).attr("data-title"),b=$(this).attr("data-price"),e=$(this).attr("value"),f=$(this).attr("data-stock");d.push(new c(a,b,e,f))}});var e=$(this).attr("id"),f=$(this).attr("data-topic-title");a.push(new b(e,f,d)),$(this).parent().addClass("hideoneqv"),$(".hideoneqv").prev().hide()}),a}function e(a){$("#wrap_quickview #item_upgrades_top").append('<div id="special_upgrade-wrapper"></div>'),$.each(a,function(c,d){var a=this.id,b=this.name;$("#wrap_quickview #special_upgrade-wrapper").append('<h3 class="upgrade_title">'+b+'</h3><ul class="special_upgrade" data-id="'+a+'"></ul>'),$.each(this.options,function(){var b=this.name,c=this.price,d=this.qty,e=this.value;$("#wrap_quickview ul[data-id="+a+"]").append('<li data-price="'+c+'" data-qty="'+d+'" value="'+e+'">'+b+"</li>")})})}function f(){var a=d();e(a),k()}function g(a,b){$("#wrap_quickview #"+a+" option[value="+b+"]").attr("selected",!0).attr("selected","selected").siblings().removeAttr("selected").removeAttr("selected"),$("#wrap_quickview #"+a+" option[value="+b+"]").trigger("change"),$("#wrap_quickview #"+a).val(b),console.log("succeeded on iphone "+$("#"+a).val())}function h(){if($("#wrap_quickview .special_upgrade.dup .active").length==$(".special_upgrade.dup").length){var a="",b=$("#wrap_quickview .special_upgrade.dup .active").length;counter=1,$("#wrap_quickview .special_upgrade.dup .active").each(function(){b==counter&&(a+="-"),a+=$(this).text().trim(),counter++}),$("#wrap_quickview .special_upgrade").not(".dup").find("li").each(function(){$(this).text().trim().replace(/ /g,"")==a&&$(this).click().trigger("click")})}}function i(){$("#wrap_quickview #special_upgrade-wrapper").each(function(){var c=$(this).find(".upgrade_title:first-child").text().split("-")[0].trim(),d=$(this).find(".upgrade_title:first-child").text().split("-")[1].trim(),a={name:c,sizes:[]},b={name:d,sizes:[]};$(this).find(".special_upgrade:nth-of-type(1) li").each(function(){a.sizes.push($(this).text().split("-")[0]),b.sizes.push($(this).text().split("-")[1])}),a.sizes=j(a.sizes),b.sizes=j(b.sizes);var e=0;$.each([a,b],function(a,b){var c=this.name;$("#wrap_quickview #special_upgrade-wrapper").append('<h3 class="upgrade_title">'+this.name+"</h3"),$("#wrap_quickview #special_upgrade-wrapper").append("<ul data-position="+e+' data-section="'+this.name+'"class="special_upgrade dup pos_'+e+'"></ul>'),e++,$.each(this.sizes,function(b,a){$('ul[data-section="'+c+'"]').append('<li class="upgrade_title">'+a+"</li")})})}),k(),$("#wrap_quickview .special_upgrade.dup li").click(function(){h()})}function j(b){for(var c={},a=0;a<b.length;a++)c[b[a]]=!0;var d=[];for(var e in c)d.push(e);return d}function k(){$("#wrap_quickview ul.special_upgrade li").click(function(){$(this).siblings(".active").removeClass("active"),$(this).addClass("active");var a=$(this).parent().attr("data-id"),b=$(this).attr("value");g(a,b)})}function l(){$("#wrap_quickview .special_upgrade.dup.pos_0 li").click(function(){var a=[];$("#wrap_quickview .special_upgrade.dup .hide").removeClass("hide"),$("#wrap_quickview .special_upgrade.dup .verified").removeClass("verified");var b=$(this).text().trim(),c="",d=Number($(this).parent().attr("data-position")),c=Number($(this).parent().siblings(".dup").attr("data-position"));a[d]=b,$(this).parent().siblings(".dup").find("li").each(function(){a[c]=$(this).text().trim();var b=0;$("#wrap_quickview ul.special_upgrade").first().find("li").each(function(){var c=$(this).text().trim().replace(/ /g,"").split("-");c[0]==a[0]&&c[1]==a[1]&&b++}),b<1?$(this).addClass("hide"):$(this).addClass("verified")})})}try{$(document).ready(function(){$("#wrap_quickview").on("openqv",function(){$("#wrap_quickview .inventory").parent(".must_upgrade").parent().addClass("hide"),setTimeout(function(){f(),$("#wrap_quickview ul.special_upgrade li").each(function(a,b){0==$(this).attr("data-qty")&&($(this).css("background","linear-gradient(25deg,"+out_of_stock_back+" 49%,#000 50%,"+out_of_stock_back+" 51%)"),$(this).css("color",out_of_stock_color))}),$("#wrap_quickview div#item_upgrades_top > div#item_upgrades").css("display","block"),$("#wrap_quickview .double.inventory").length&&($("#wrap_quickview#special_upgrade-wrapper .special_upgrade").css("display","none"),$("#wrap_quickview #special_upgrade-wrapper .special_upgrade").prev().css("display","none"),i(),$("#wrap_quickview #special_upgrade-wrapper .special_upgrade").first().find("li").each(function(){"0"==$(this).attr("data-qty")&&$(this).remove(),l()}),$("#wrap_quickview #special_upgrade-wrapper .special_upgrade").each(function(){$(this).find("li").each(function(){"undefined"==$(this).attr("data-qty")&&$(this).parent().remove()})}),$("#wrap_quickview .must_upgrade div.fake_selects").remove())},500),console.log("grid modification done")})}),$("#wrap_quickview").on("openqv",function(){$("#wrap_quickview ul.special_upgrade li").click(function(){}),0==$("#wrap_quickview ul.special_upgrade li.active").attr("data-qty")?($("#wrap_quickview #item_link_buy_now .contactNow").show(),$("#wrap_quickview #item_link_buy_now .buyNow").hide()):($("#wrap_quickview #item_link_buy_now .contactNow").hide(),$("#wrap_quickview #item_link_buy_now .buyNow").show())})}catch(a){console.log("upgrades to cubes: "+a)}};$(document).ready(function(){try{"true"==use_upgrade_radio_checkbox&&radioToCheckboxQV(),"true"==use_inventory_matrix_pictures&&inventoryMatrixPicturesQV(),"true"==use_upgrades_cubes&&upgradesCubesQV()}catch(a){console.log("special upgrades error: "+a)}})